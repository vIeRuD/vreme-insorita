<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vremea √Æn Pa»ôcani</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #e0f7fa;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #00796b;
    }

    .days-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }

    .day-block {
      background: #ffffff;
      border-radius: 10px;
      padding: 15px;
      width: 150px;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: transform 0.2s;
    }

    .day-block:hover {
      transform: scale(1.05);
      background-color: #e0f2f1;
    }

    .hourly-details {
      margin-top: 30px;
    }

    .hour-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .hour-card {
      background: #ffffff;
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
      text-align: center;
    }

    @media (max-width: 600px) {
      .day-block {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <h1>üå§Ô∏è Vremea √Æn Pa»ôcani</h1>
  <div class="days-container" id="weather">Se √ÆncarcƒÉ...</div>
  <div class="hourly-details" id="dayDetail"></div>

  <script>
    const API_KEY = "d80538f843msh4a2aa2658cf11dbp13ac68jsnb66a616cff22";
    const url = "https://weatherapi-com.p.rapidapi.com/forecast.json?q=Pascani,Iasi,RO&days=5";

    const translations = {
      "Sunny": "Senin", "Clear": "Senin", "Partly cloudy": "Par»õial √Ænnorat", "Cloudy": "√énnorat",
      "Overcast": "√énnorat", "Rain": "Ploaie", "Showers": "Averse", "Thunderstorms": "FurtunƒÉ",
      "Snow": "Ninsoare", "Mist": "Cea»õƒÉ", "Fog": "Cea»õƒÉ", "Windy": "V√¢nt", "Drizzle": "Burni»õƒÉ"
    };

    let forecastData = [];

    fetch(url, {
      method: "GET",
      headers: {
        "X-RapidAPI-Key": API_KEY,
        "X-RapidAPI-Host": "weatherapi-com.p.rapidapi.com"
      }
    })
    .then(res => res.json())
    .then(data => {
      forecastData = data.forecast.forecastday;
      const container = document.getElementById('weather');
      container.innerHTML = "";

      forecastData.forEach((day, index) => {
        const div = document.createElement("div");
        div.className = "day-block";
        div.innerHTML = `
          <strong>${day.date}</strong><br/>
          ${translations[day.day.condition.text] || day.day.condition.text}<br/>
          üå°Ô∏è ${day.day.mintemp_c}¬∞C - ${day.day.maxtemp_c}¬∞C
        `;
        div.addEventListener("click", () => showDayDetail(index));
        container.appendChild(div);
      });
    });

    function showDayDetail(index) {
      const detail = document.getElementById("dayDetail");
      const day = forecastData[index];

      let html = `<h2>Detalii ${day.date}</h2><div class="hour-grid">`;

      day.hour.forEach(hour => {
        const time = hour.time.split(" ")[1];
        const condition = translations[hour.condition.text] || hour.condition.text;
        html += `
          <div class="hour-card">
            <strong>${time}</strong><br/>
            ${condition}<br/>
            üå°Ô∏è ${hour.temp_c}¬∞C<br/>
            üí® ${hour.wind_kph} km/h
          </div>
        `;
      });

      html += `</div>`;
      detail.innerHTML = html;
    }
  </script>
</body>
</html>
